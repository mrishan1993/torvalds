"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.calculateSaleCuts = void 0;
var tslib_1 = require("tslib");
var utils_1 = require("@rarible/utils");
var types_1 = require("@rarible/types");
function calculateSaleCuts(mainPayoutAddress, price, fees) {
    var startPrise = (0, utils_1.toBn)(price);
    var mainPayout = (0, utils_1.toBn)(price);
    var resultSaleCuts = fees.map(function (fee) {
        var value = startPrise.multipliedBy((0, utils_1.toBn)(fee.value));
        mainPayout = mainPayout.minus(value);
        return (0, tslib_1.__assign)((0, tslib_1.__assign)({}, fee), { value: (0, types_1.toBigNumber)(value.toString()) });
    });
    if (mainPayout.gt(0)) {
        resultSaleCuts.push({ account: mainPayoutAddress, value: (0, types_1.toBigNumber)(mainPayout.toString()) });
    }
    return resultSaleCuts;
}
exports.calculateSaleCuts = calculateSaleCuts;
