"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.deployErc721V1 = void 0;
var tslib_1 = require("tslib");
var v1_1 = require("../v1");
var bytecodes_1 = require("./bytecodes");
function deployErc721V1(web3, name, symbol) {
    return (0, tslib_1.__awaiter)(this, void 0, void 0, function () {
        var empty, address, deploy;
        return (0, tslib_1.__generator)(this, function (_a) {
            switch (_a.label) {
                case 0:
                    empty = new web3.eth.Contract(v1_1.erc721v1Abi);
                    return [4 /*yield*/, web3.eth.getAccounts()];
                case 1:
                    address = (_a.sent())[0];
                    return [4 /*yield*/, empty.deploy({
                            data: bytecodes_1.erc721v1MintableTokenBytecode,
                            arguments: [
                                name,
                                symbol,
                                "https://api-test.rarible.com/contractMetadata/{address}",
                                "ipfs:/",
                                "0x002ed05478c75974e08f0811517aa0e3eddc1380",
                            ],
                        })];
                case 2:
                    deploy = _a.sent();
                    return [2 /*return*/, deploy.send({ from: address, gas: 4000000, gasPrice: "0" })];
            }
        });
    });
}
exports.deployErc721V1 = deployErc721V1;
